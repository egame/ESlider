!function(n){jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutQuad:function(n,e,t,o,s){return-o*(e/=s)*(e-2)+t}}),n.eslider=function(e,t){var o=n(e);o.opts=n.extend({},n.eslider.defaults,t),o.conBox=o.find(o.opts.conBox),o.conInner=n('<div style="position:absolute;"></div>'),o.cons=o.conBox.find(o.opts.conItem),o.len=o.cons.length,o.curI=0,o.unitW=o.conBox.width(),o.unitH=o.conBox.height(),o.unitPx=o.unitW,o.isMoving=!1,o.titleArr=[];var s=0;return o.recircle=function(n){"h"==o.opts.type?o.conInner.css({left:n}):"v"==o.opts.type&&o.conInner.css({top:n})},o.go2next=function(){var n=o.curI+1;n>=o.len&&(n=0,o.opts.animationLoop&&o.recircle(0)),o.go2con(n)},o.go2pre=function(){var n=o.curI-1;0>n&&(n=o.len-1,o.opts.animationLoop&&o.recircle(-(o.len+1)*o.unitPx)),o.go2con(n)},o.go2con=function(n){switch(o.opts.before&&o.opts.before(o.curI,o),("h"==o.opts.type||"v"==o.opts.type)&&(o.isMoving=!0,s=o.opts.animationLoop?-(n*o.unitPx)-o.unitPx:-(n*o.unitPx)),o.opts.type){case"h":o.conInner.stop().animate({left:s+"px"},o.opts.speed,o.opts.easing,function(){o.isMoving=!1});break;case"v":o.conInner.stop().animate({top:s+"px"},o.opts.speed,o.opts.easing,function(){o.isMoving=!1});break;case"a":if(o.curI==n)return;o.cons.stop().hide().eq(n).fadeIn(o.opts.speed),o.cons.eq(o.curI).show().fadeOut(o.opts.speed);break;case"n":o.cons.hide().eq(n).show()}o.tabs.removeClass(o.opts.tabOnClass).eq(n).addClass(o.opts.tabOnClass),o.opts.hideTitleBar||o.title.html(o.titleArr[n]),o.curI=n,o.opts.after&&o.opts.after(o.curI,o)},o.pause=function(){clearInterval(o.autoTimer),o.autoTimer=null},o.play=function(){!!o.autoTimer&&clearInterval(o.autoTimer),o.autoTimer=o.autoTimer||setInterval(function(){o.go2next()},o.opts.time)},o.init=function(){o.opts.hideTitleBar||(o.cons.each(function(){o.titleArr.push(n(this).find("img").attr("title"))}),o.tips=n('<div class="'+o.opts.namespace+'_tips_con"><div class="'+o.opts.namespace+'_tips_bg"></div></div>').appendTo(o),o.title=n('<div class="'+o.opts.namespace+'_tips_tt">'+o.titleArr[o.curI]+"</div>").appendTo(o.tips)),o.tab=n('<div class="'+o.opts.namespace+'_tab_nav"></div>').appendTo(o);for(var e=0;e<o.len;e++)!function(e){var t=n('<span class="'+o.opts.namespace+'_tab_item"></span>');"mouseover"==o.opts.ev?t.hover(function(){o.delayTime=setTimeout(function(){o.go2con(e)},o.opts.hoverDelay)},function(){clearTimeout(o.delayTime),o.delayTime=null}).appendTo(o.tab):t.bind(o.opts.ev,function(){o.go2con(e)}).appendTo(o.tab)}(e);o.tabs=o.tab.find("."+o.opts.namespace+"_tab_item"),o.tabs.eq(o.curI).addClass(o.opts.tabOnClass),o.preBtn=n('<a href="javascript:;" class="'+o.opts.namespace+'_btn_pre">上一张</a>').click(function(){!o.isMoving&&o.go2pre()}).hide().appendTo(o),o.nextBtn=n('<a href="javascript:;" class="'+o.opts.namespace+'_btn_next">下一张</a>').click(function(){!o.isMoving&&o.go2next()}).hide().appendTo(o),1==o.opts.showBtn?o.hover(function(){o.preBtn.show(),o.nextBtn.show()},function(){o.preBtn.hide(),o.nextBtn.hide()}):2==o.opts.showBtn&&(o.preBtn.show(),o.nextBtn.show()),"v"==o.opts.type&&(o.unitPx=o.unitH),("h"==o.opts.type||"v"==o.opts.type)&&(o.conInner.append(o.cons),o.opts.animationLoop&&o.conInner.append(o.cons).append(o.cons.eq(0).clone()).prepend(o.cons.eq(o.len-1).clone()),o.conBox.append(o.conInner),o.cons=o.conInner.find(o.opts.conItem),o.cons.css({width:o.unitW+"px",height:o.unitH+"px",overflow:"hidden"})),"h"==o.opts.type?o.opts.animationLoop?o.conInner.css({left:-o.unitW+"px",width:(o.len+2)*o.unitW+"px",height:o.unitH+"px"}):o.conInner.css({left:"0px",width:o.len*o.unitW+"px",height:o.unitH+"px"}):"v"==o.opts.type?o.opts.animationLoop?o.conInner.css({top:-o.unitH+"px"}):o.conInner.css({top:"0px"}):"a"==o.opts.type&&o.cons.css({position:"absolute"}).hide().eq(o.curI).show(),o.opts.auto&&(o.hover(function(){o.pause()},function(){o.play()}),o.play())},o.init(),{go2con:o.go2con,go2next:o.go2next,go2pre:o.go2pre}},n.eslider.defaults={namespace:"es",conBox:".fn_con",conItem:".fn_con_item",tabOnClass:"es_tab_item_on",type:"h",animationLoop:!0,ev:"mouseover",hideTitleBar:!1,showBtn:1,hoverDelay:50,auto:!0,speed:500,time:4e3,easing:"easeOutQuad",before:null,after:null},n.fn.eslider=function(e){var t=e&&e.conItem?e.conItem:n.eslider.defaults.conItem,o=this.find(t);return o.length>1?new n.eslider(this,e):void 0}}(jQuery);