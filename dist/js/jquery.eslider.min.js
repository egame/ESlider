!function(e){jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutQuad:function(e,t,n,i,a){return-i*(t/=a)*(t-2)+n}}),e.fn.eslider=function(t){this.each(function(){e.fn.eslider.init(e(this),t)})},e.fn.eslider.defaults={conBox:".fn_con",conItem:".fn_con_item",tabOnClass:"on",type:"h",ev:"mouseover",hideTitleBar:!1,hideBtn:!1,hoverDelay:50,auto:!0,speed:500,time:4e3,easing:"easeOutQuad",callback:null},e.fn.eslider.init=function(t,n){function i(){var e=v+1;e>=r&&(e=0,"h"==o.type?d.css({left:0}):"v"==o.type&&d.css({top:0})),s(e)}function a(){var e=v-1;0>e&&(e=r-1,"h"==o.type?d.css({left:-(r+1)*b}):"v"==o.type&&d.css({top:-(r+1)*m})),s(e)}function s(e){switch(o.type){case"h":g=!0;var t=-(e*b)-b;d.stop().animate({left:t+"px"},o.speed,o.easing,function(){g=!1});break;case"v":g=!0;var t=-(e*m)-m;d.stop().animate({top:t+"px"},o.speed,o.easing,function(){g=!1});break;case"a":if(v==e)return;p.stop().hide().eq(e).fadeIn(o.speed),p.eq(v).show().fadeOut(o.speed);break;case"n":p.hide().eq(e).show();break;default:g=!0;var t=-(e*b)-b;d.stop().animate({left:t+"px"},o.speed,o.easing,function(){g=!1})}k.find(".tab_item").removeClass(o.tabOnClass).eq(e).addClass(o.tabOnClass),o.hideTitleBar||w.html(T[e]),v=e,o.callback&&o.callback(e,l)}var o=e.extend({},e.fn.eslider.defaults,n),l=t,c=l.find(o.conBox),d=e('<div style="position:absolute;"></div>'),p=c.find(o.conItem),u=null,f=null,r=p.length,h=r+2,v=0,b=c.width(),m=c.height(),y=null,x=null,g=!1,T=[];if(p.each(function(){T.push(e(this).find("img").attr("title"))}),!o.hideTitleBar)var _=e('<div class="tips_con"><div class="tips_bg"></div></div>').appendTo(l),w=e('<div class="tips_tt">'+T[v]+"</div>").appendTo(_);for(var k=e('<ul class="tab_nav"></ul>').appendTo(l),q=0;r>q;q++)!function(t){"mouseover"==o.ev?e('<li class="tab_item"></li>').hover(function(){clearTimeout(x),x=null,x=setTimeout(function(){s(t)},o.hoverDelay)},function(){clearTimeout(x),x=null}).appendTo(k):e('<li class="tab_item"></li>').bind(o.ev,function(){s(t)}).appendTo(k)}(q);k.find(".tab_item").eq(v).addClass(o.tabOnClass),o.hideBtn||(u=e('<a href="javascript:;" class="btn_pre">上一张</a>').click(function(){g||a()}).hide().appendTo(l),f=e('<a href="javascript:;" class="btn_next">下一张</a>').click(function(){g||i()}).hide().appendTo(l),l.hover(function(){u.show(),f.show()},function(){u.hide(),f.hide()})),d.append(p),("h"==o.type||"v"==o.type)&&(d.append(p.eq(0).clone()),d.prepend(p.eq(r-1).clone())),c.append(d),p=d.find(o.conItem),p.css({width:b+"px",height:m+"px",overflow:"hidden"}),"h"==o.type?d.css({left:-b+"px",width:h*b+"px",height:m+"px"}):"v"==o.type?d.css({top:-m+"px"}):"a"==o.type&&p.css({position:"absolute"}).hide().eq(v).show(),o.auto&&l.hover(function(){clearInterval(y),y=null},function(){clearInterval(y),y=null,y=setInterval(function(){i()},o.time)}).trigger("mouseout")}}(jQuery);